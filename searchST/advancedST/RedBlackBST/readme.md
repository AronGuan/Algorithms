#红黑树 
准备知识:2-3查找树  
由以下结点组成:  
2-结点:含有一个键,和两条链接，左连接指向的2-3树种的键都小于该结点，右链接指向的2-3树中的键都大于该结点。  
3-结点:含有两个键和三条链接，左链接指向的2-3树中的键都小于该结点，中链接指向的2-3树中的键都位于该结点的两个键之间，右链接指向的2-3树种的键都大于该结点。  
特点：一颗完美平衡的2-3查找树中的所有空链接到根结点的距离都应该是相同的。  

1. 查找  
先将它和根结点中的键比较，如果它和其中任意一个相等，查找命中，否则我们就根据比较的结果找到指向相应区间的链接，并在其指向的子树种递归地继续查找，如果空链接，未命中。  

2. 插入
(1)向2-结点中插入新键  
只要把这个2-结点替换为一个3-结点，将要插入的键保存在其中即可。  
(2)向一颗只含有一个3-结点的树种插入新键  
先临时将新键存入该结点中，使之成为4-结点，然后将之转换为一颗由3个2-结点组成的2-3树，高度加一  
(3)向一个父节点为2-结点的3-结点中插入新键  
构造一个临时的4-结点并将其分解，将其移动至原来的父结点中，2-结点变成3-结点  
(4)向一个父结点为3-结点的3-结点中插入新键  
构造一个临时的4-结点并分解它，然后将它的中键插入它的父结点中，在父结点中再用这个中键构造一个新的临时4-结点，然后分解，将它的中键插入到父结点中。  
(5)根结点  
如果从插入结点到根结点的路径上都是3-结点，将根结点变为临时的4-结点，然后分解为3个2-结点，使得树高加1。  

特点：变换是局部的，除了相关的结点和链接之外，不必修改或者检查树的其他部分，2-3树的生长是由下向上的，标准二叉树是由上向下生长的。  

缺点:实现大量的操作，而它们所产生的额外开销可能会使算法比标准的二叉树更慢   
我们的目的是用二叉树消除最坏的情况，并且所需的代码能越少越好。  
答案就是红黑二叉查找树。  

##红黑二叉查找树  
基本思想:是用标准的二叉查找树(完全由2-结点构成)和一些额外的信息(替换3-结点)来表示2-3树  

红链接由一条左斜的红色链接(两个2-结点，其中之一是另一个的左子结点)，相连的两个2-结点   
黑链接则是2-3树种的普通链接  

基本操作  
1. 旋转(左旋转和右旋转)  
思路：将两个键中的较小者作为根结点变成将较大者作为根结点  

2. 颜色转换  
转换一个结点的两个红色子结点的颜色，除了将子结点的颜色由红变黑之外，同时将父结点的颜色由黑变红。  

插入方式  
(1)向单个2-结点中插入新键  
如果新键小于老键，只需要新增一个红色的结点即可，新的红黑树和单个3-结点完全等价，如果新建大于老键，那么新增的红色结点将会产生一条红色的右链接，需要将其旋转为红色左链接并修正根结点的链接。  
(2)向树底部的2-结点插入新键  
如果指向新结点的是父结点的左链接，那么父结点就直接成为一个3-结点，如果指向新结点的是父结点的右链接，这就是一个错误的3-结点，通过左旋转修正。  
(3)向一颗双键树(即一个3-结点)中插入新键  


通过使用左旋转，右旋转和颜色转换这三种简单的操作，保证插入操作后红黑树和2-3树的一一对应关系。
